import{u as M,a as V,z as C,r,o as d,c as u,g as f,f as t,i as s,h as a,w as v,A as h,F as x,j as N,C as q,D}from"./index-BvrlI3rd.js";import{P as F}from"./index-CgComB6d.js";import{L as P}from"./index-rxo48PJE.js";import{E as j}from"./index-CqtRLwuI.js";import{N as U}from"./index-NAKdCZg-.js";import"./use-id-n9qlotU8.js";import"./use-placeholder-DFyJNJBY.js";const z={class:"bg-white mx-3 rounded-md back_4 py-[30px] text-center mt-3"},A={class:"text-[#191919]/60"},G={class:"font-semibold text-[18px] pt-[5px] pb-[10px]"},I={class:"text-[#191919]/60 text-[12px]"},S={class:"mx-3 mt-[20px] mb-[6px] text-[#191919]/60"},H={class:"mr-[20px] font-semibold text-[#000]"},J={style:{"max-height":"500px",overflow:"scroll"},class:"bg-white mx-3 rounded-md back_4"},K={key:0},te={__name:"incomeBreakdown",setup(O){const{t:y}=M(),b=V(),p=C(),k=()=>{b.back()},_=r({limit:20,page:1}),o=r([]),l=r(!1),m=r(!1),i=r(!1),w=async()=>{const e=await D();o.value.push(...e.data.list),_.value.page++,(e.data.list.length===0||o.value.length>=e.data.count)&&(m.value=!0)},g=async()=>{i.value&&(_.value.page=1,o.value=[],i.value=!1),await w(),l.value=!1},L=()=>{m.value=!1,l.value=!0,g()};return(e,c)=>{const B=U,R=j,$=P,E=F;return d(),u(x,null,[f(B,{title:e.$t("financialManagement.incomeBreakdown"),"left-arrow":"",onClickLeft:k},null,8,["title"]),t("div",z,[t("div",A,s(e.$t("financialManagement.accumulatedEarnings")),1),t("div",G,s(a(p).query.total_money),1),t("div",I,s(e.$t("financialManagement.yesterdayEarnings"))+s(a(p).query.yesterday_money),1)]),t("div",S,[t("span",H,s(e.$t("financialManagement.regularFinancialManagement")),1)]),t("div",J,[f(E,{modelValue:a(i),"onUpdate:modelValue":c[1]||(c[1]=n=>h(i)?i.value=n:null),onRefresh:L,"loosing-text":a(y)("refresh")},{default:v(()=>[f($,{loading:a(l),"onUpdate:loading":c[0]||(c[0]=n=>h(l)?l.value=n:null),finished:a(m),"finished-text":a(o).length?e.$t("distribution.nomore"):"",onLoad:g},{default:v(()=>[a(o).length?(d(),u("div",K,[(d(!0),u(x,null,N(a(o),n=>(d(),u("div",{key:n.id,class:"flex items-center justify-between px-[16px] py-[16px] border border-white border-b-slate-100"},[t("div",null,s(n.createtime),1),t("div",null,s(n.money),1)]))),128))])):(d(),q(R,{key:1,description:e.$t("rechargerecord.noRecords")},null,8,["description"]))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue","loosing-text"])])],64)}}};export{te as default};
