import{_ as j,u as B,a as T,r as d,q as E,o as i,c as r,f as e,g as _,w as y,h as l,s as I,A as V,F as g,bN as q,j as b,C as D,i as n}from"./index-BvrlI3rd.js";import{L as F}from"./index-rxo48PJE.js";import{E as R}from"./index-CqtRLwuI.js";import{T as S,a as U}from"./index-DrMqqINR.js";import"./index-tn7Hb5pv.js";import{N as A}from"./index-NAKdCZg-.js";import"./use-id-n9qlotU8.js";import"./use-route-BBWwet07.js";import"./use-placeholder-DFyJNJBY.js";const M={class:"sticky top-0 bg-white"},Q={class:"rounded-md w-full"},z={key:0},G=["onClick"],H={class:"flex justify-between mx-3 py-1.5"},J={class:"text-gray-500"},K={class:"flex items-center"},O={class:"flex justify-between mx-3 py-1.5"},P={class:"text-gray-500"},W={class:"flex items-center"},X={class:"flex justify-between mx-3 py-1.5"},Y={class:"text-gray-500"},Z={class:"flex items-center"},ee={class:"text-green-500"},se={class:"flex justify-between mx-3 py-1.5"},te={class:"text-gray-500"},ae={class:"flex items-center"},ne={__name:"index",setup(oe){const{t:p}=B(),h=T(),x=()=>{h.back()},k=d([{is_see:"all",title:p("message.all")},{is_see:"1",title:p("message.haveread")},{is_see:"0",title:p("message.noread")}]),m=d([]),o=d({is_see:"all",page:"1",limit:"10"}),c=d(!1),f=d(!1),v=s=>{c.value=!0,s&&(m.value=[],o.value.page="1",o.value.is_see=s,f.value=!1),q(o.value).then(a=>{console.log(a);let u=parseInt(o.value.page);u++,o.value.page=u.toString(),a.data.list.length<=0&&(f.value=!0),m.value.push(...a.data.list),c.value=!1})};E(()=>{v(o.is_see)});const $=({name:s})=>v(s);return(s,a)=>{const u=A,w=U,C=S,L=R,N=F;return i(),r(g,null,[e("header",M,[_(u,{title:s.$t("message.message2"),"left-text":s.$t("goback"),"left-arrow":"",onClickLeft:x},null,8,["title","left-text"]),e("div",Q,[_(C,{active:s.active,"onUpdate:active":a[0]||(a[0]=t=>s.active=t),onClickTab:$,color:"#009996",type:"card"},{default:y(()=>[(i(!0),r(g,null,b(l(k),t=>(i(),D(w,{key:t.switch,name:t.is_see,title:t.title},null,8,["name","title"]))),128))]),_:1},8,["active"])])]),e("main",null,[l(m).length<=0?(i(),r("div",z,[_(L)])):I("",!0),e("div",null,[_(N,{loading:l(c),"onUpdate:loading":a[1]||(a[1]=t=>V(c)?c.value=t:null),finished:l(f),"finished-text":s.$t("message.nomore"),onLoad:a[2]||(a[2]=t=>v()),"immediate-check":!1},{default:y(()=>[(i(!0),r(g,null,b(l(m),t=>(i(),r("div",{class:"bg-white mx-3 mt-3 rounded-md",key:t.id,onClick:ie=>l(h).push({path:"/messageDetail",query:{ids:t.id,info:t.content}})},[e("div",H,[e("div",J,n(s.$t("message.message2")),1),e("div",K,[e("span",null,n(t.title),1)])]),e("div",O,[e("div",P,n(s.$t("message.createtime")),1),e("div",W,[e("span",null,n(t.createtime),1)])]),e("div",X,[e("div",Y,n(s.$t("message.type")),1),e("div",Z,[e("span",ee,n(t.type===1?s.$t("message.message1"):s.$t("message.notice")),1)])]),e("div",se,[e("div",te,n(s.$t("message.people")),1),e("div",ae,[e("span",null,n(t.user),1)])])],8,G))),128))]),_:1},8,["loading","finished","finished-text"])])])],64)}}},ve=j(ne,[["__scopeId","data-v-36101812"]]);export{ve as default};
