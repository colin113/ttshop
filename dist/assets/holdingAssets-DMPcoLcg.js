import{u as V,a as D,r as o,o as u,c as f,g as x,f as e,w as g,h as s,A as _,F as b,P as F,j as N,i as a,C as j,K as U,H as w,M as G}from"./index-BvrlI3rd.js";import{P as H}from"./index-CgComB6d.js";import{L as O}from"./index-rxo48PJE.js";import{E as T}from"./index-CqtRLwuI.js";import{N as q}from"./index-NAKdCZg-.js";import"./use-id-n9qlotU8.js";import"./use-placeholder-DFyJNJBY.js";const I={style:{"max-height":"calc(100dvh - 150px)",overflow:"scroll"},class:"mb-[20px]"},K={key:0},Q={class:"mb-[16px] flex justify-between items-center"},Y={class:"flex items-center"},z={class:"ml-[11px] mr-[13px] text-[10px] bg-[#EEFAF5] text-[#2DBD85] px-[4px] py-[2px]"},J={class:"text-[10px] text-[#EA3943]"},W=["onClick"],X={class:"text-white"},Z={class:"flex justify-between"},ee={class:"text-[#191919]/60 text-[12px]"},te={class:"text-[#191919]/60 text-[12px]"},ae={class:"text-[#191919]/60 text-[12px]"},ne={class:"text-[#191919]/60 text-[12px]"},se={class:"text-center mb-[20px] text-[16px]"},le={class:"flex text-center"},me={__name:"holdingAssets",setup(oe){const{t:d}=V(),k=D(),$=()=>{k.back()},m=o({limit:20,page:1}),i=o([]),r=o(!1),v=o(!1),p=o(!1),M=async()=>{const t=await G(m.value);i.value.push(...t.data.list),m.value.page++,(t.data.list.length===0||i.value.length>=t.data.count)&&(v.value=!0)},h=async()=>{p.value&&(m.value.page=1,i.value=[],p.value=!1),await M(),r.value=!1},C=()=>{v.value=!1,r.value=!0,h()},y=o({id:null,balance:null}),c=o(!1),L=t=>{y.value={id:t.id,balance:t.total_balance},c.value=!0},E=async()=>{const t=await U(y.value);t.code===1?w(d("financialManagement.sellSuccess")):w(t.msg),c.value=!1};return(t,l)=>{const B=q,R=T,A=O,P=H,S=F;return u(),f(b,null,[x(B,{title:t.$t("financialManagement.holdingAssets"),"left-arrow":"",onClickLeft:$,class:"mb-[16px]"},null,8,["title"]),e("div",I,[x(P,{modelValue:s(p),"onUpdate:modelValue":l[1]||(l[1]=n=>_(p)?p.value=n:null),onRefresh:C,"loosing-text":s(d)("refresh")},{default:g(()=>[x(A,{loading:s(r),"onUpdate:loading":l[0]||(l[0]=n=>_(r)?r.value=n:null),finished:s(v),"finished-text":s(i).length?t.$t("distribution.nomore"):"",onLoad:h},{default:g(()=>[s(i).length?(u(),f("div",K,[(u(!0),f(b,null,N(s(i),n=>(u(),f("div",{key:n.id,class:"bg-white mx-[10px] mb-[16px] p-[16px] rounded-lg",style:{"box-shadow":"0px 4px 7px 0px rgba(0, 0, 0, 0.05)"}},[e("div",Q,[e("div",Y,[e("span",null,a(n.product.title),1),e("span",z,a(n.product.day)+a(t.$t("financialManagement.days")),1),e("span",J,a(t.$t("financialManagement.residue"))+a(n.day)+a(t.$t("financialManagement.days")),1)]),e("div",{onClick:ie=>L(n),class:"bg-black rounded-md py-[4px] px-[14px]"},[e("span",X,a(t.$t("financialManagement.sale")),1)],8,W)]),e("div",Z,[e("div",null,[e("div",ee,a(t.$t("financialManagement.amountHeld")),1),e("div",null,a(n.total_balance),1)]),e("div",null,[e("div",te,a(t.$t("financialManagement.positionGain")),1),e("div",null,a(n.income),1)]),e("div",null,[e("div",ae,a(t.$t("financialManagement.yesterdayEarnings")),1),e("div",null,a(n.yesterday_income),1)]),e("div",null,[e("div",ne,a(t.$t("financialManagement.deadline")),1),e("div",null,a(n.end_time),1)])])]))),128))])):(u(),j(R,{key:1,description:t.$t("rechargerecord.noRecords")},null,8,["description"]))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue","loosing-text"])]),x(S,{show:s(c),"onUpdate:show":l[3]||(l[3]=n=>_(c)?c.value=n:null),class:"pt-[60px] pb-[30px] px-[40px] w-[80%] rounded-lg"},{default:g(()=>[e("div",se,a(s(d)("financialManagement.areYouSureToSell")),1),e("div",le,[e("div",{onClick:l[2]||(l[2]=n=>c.value=!1),class:"w-[50%] rounded-lg mr-[20px] py-[10px] bg-[#ccc] text-black"},a(s(d)("my.cancel")),1),e("div",{onClick:E,class:"w-[50%] rounded-lg py-[10px] bg-black text-white"},a(s(d)("my.confirm")),1)])]),_:1},8,["show"])],64)}}};export{me as default};
