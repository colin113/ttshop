import{_ as de,u as re,a as ie,r as i,b as ue,aa as C,q as me,o as R,c as F,f as e,g as a,w as u,bs as B,h as t,A as V,F as ce,bS as ge,bQ as pe,a5 as f,E as c,aP as ve,a2 as k,i as r,s as O,p as fe,m as he,bT as be,b1 as I,b4 as N,ai as we}from"./index-BvrlI3rd.js";import{A as _e}from"./index-C2xjknpb.js";import"./index-CqHXZlWv.js";import"./index-tn7Hb5pv.js";import{U as ye}from"./index-DZDlgZf7.js";import{F as $e}from"./index-B85MVH_x.js";/* empty css              */import{B as Ve}from"./index-CBKMO47e.js";import{F as ke}from"./index-Dp4oRVwc.js";import"./use-route-BBWwet07.js";import"./use-id-n9qlotU8.js";const xe=h=>(fe("data-v-1462a2fc"),h=h(),he(),h),Se={class:"page text-white"},Ue={class:"mx-3 flex justify-between items-center mt-3"},Pe={class:"ml-3 pt-0.5"},Ce={class:"ml-3 pt-0.5"},Re=xe(()=>e("div",{class:"flex justify-center items-center flex-col mt-20"},[e("div",{class:"mt-28"},[e("span",{class:"font-semibold text-5xl text-black"},"SHOP")])],-1)),Fe={class:"mt-60"},Ie={class:"pt-10 px-10"},Ne={class:"pt-6 px-10"},qe={key:0,class:"h-3/5 bg-white rounded-t-2xl fixed bottom-0",style:{width:"100vw"}},Ee={class:"mx-3"},Le={class:"text-black mb-3"},Ae={class:"mx-3"},Te={class:"text-black my-3"},je={class:"flex mx-3 justify-between mt-6"},De={class:"text-black"},Be={class:"bg-black mx-3 h-16 rounded-lg flex justify-center items-center text-white mt-10"},Oe={key:0,class:"h-5/6 bg-white overflow-y-auto rounded-t-2xl fixed bottom-0 pb-6",style:{width:"100vw"}},ze={class:"mx-3"},He={class:"text-black mb-3"},Ge={class:"mx-3"},Me={class:"text-black mb-3"},Qe={class:"mx-3"},Je={class:"text-black my-3"},Ke={class:"mx-3"},We={class:"text-black my-3"},Xe={class:"mx-3"},Ye={class:"text-black my-3"},Ze={class:"mx-3"},eo={class:"text-black my-3"},oo={class:"mx-3"},lo={class:"text-black my-3"},so={class:"mx-3"},to={class:"text-black my-3"},ao={class:"mx-3"},no={class:"text-black my-3"},ro={class:"mx-3"},io={class:"text-black my-3"},uo={class:"text-black flex justify-between"},mo={class:"flex flex-col justify-center items-center"},co={class:"mt-3"},go={class:"text-gray-600"},po={class:"flex flex-col justify-center items-center"},vo={class:"mt-3"},fo={class:"text-gray-600"},ho={class:"bg-black mx-3 h-10 rounded-lg flex justify-center items-center text-white mt-6"},bo={__name:"index",setup(h){const{t:q,locale:z}=re(),E=new URLSearchParams(window.location.search).get("mer"),x=ie(),g=i(q("login.register")),H=()=>{p.value=!0},S=i([]),b=i([]),L=i([]),G=()=>{ge({page:1,limit:10}).then(o=>{b.value=o.data.list,L.value=b.value.map(n=>({name:n.language_name,file_name:n.file_name})),S.value=L.value,console.log(S.value),localStorage.getItem("hasExecutedFunction")||(console.log(b.value),b.value.forEach(n=>{n.is_default==1&&(localStorage.setItem("lang",n.file_name),location.reload())}),localStorage.setItem("hasExecutedFunction","true"))})},A=i({lang:""}),p=i(!1),M=o=>{p.value=!1,A.value.lang=o.file_name,z.value=o.file_name,localStorage.setItem("lang",o.file_name),pe(A.value).then(l=>{l.code===1?(console.log(1),f(l.msg)):c(l.msg)}),location.reload()},Q=ue().loginAction,v=i({account:"",password:""}),J=async()=>{await Q(v.value)},T=i(""),j=i(""),d=i({mer_avatar:"",mer_name:"",mer_address:"",real_name:"",country:"",images:"",mer_email:"",mer_phone:"",password:"",repassword:"",code:"",mer:""});E&&(d.value.mer=E);const K=async()=>{if(d.value.password!=d.value.repassword){c(q("newword.diffPassword"));return}localStorage.getItem("code"),localStorage.getItem("data");const o={...d.value,code:localStorage.getItem("code"),data:localStorage.getItem("data")},l=await be(o);l.code===1?(f(l.msg),await x.push({path:"/code",query:{status:0}})):c(l.msg)},W=()=>{x.go(-1)},U=()=>{we({message:"",forbidClick:!0,duration:0})},X=i(null),w=i([]),Y=C(()=>!w.value.length),Z=i(null),_=i([]),ee=C(()=>!_.value.length),oe=i(null),y=i([]),le=C(()=>!y.value.length),se=o=>{const l=new FormData;l.append("file",o.file),U(),I(l).then(n=>{n.code===1?(d.value.mer_avatar=n.data.fullurl,f(n.msg)):c(n.msg),N()})},te=o=>{const l=new FormData;l.append("file",o.file),U(),I(l).then(n=>{n.code===1?(f(n.msg),T.value=n.data.fullurl):c(n.msg),N()})},ae=o=>{const l=new FormData;l.append("file",o.file),U(),I(l).then(n=>{n.code===1?(f(n.msg),j.value=n.data.fullurl,d.value.images=T.value+","+j.value):c(n.msg),N()})};return me(()=>{G()}),(o,l)=>{const n=ve,$=Ve,m=$e,D=ke,P=ye,ne=_e;return R(),F(ce,null,[e("div",Se,[e("header",null,[e("div",Ue,[e("span",Pe,[a(n,{name:"left",size:"1.6rem",onClick:W})]),e("span",Ce,[a(n,{name:"earth",size:"1.6rem",onClick:l[0]||(l[0]=s=>H())})])])]),e("main",null,[Re,e("div",Fe,[e("div",Ie,[a($,{block:"",color:"#191919",round:"",style:{height:"45px"},onClick:l[1]||(l[1]=s=>g.value=o.$t("login.register"))},{default:u(()=>[k(r(o.$t("login.register")),1)]),_:1})]),e("div",Ne,[a($,{block:"",color:"#191919",plain:"",round:"",style:{height:"45px","background-color":"white",border:"1px solid black"},onClick:l[2]||(l[2]=s=>g.value=o.$t("login.login"))},{default:u(()=>[k(r(o.$t("login.login")),1)]),_:1})])]),a(B,{name:"van-slide-up"},{default:u(()=>[t(g)===o.$t("login.login")?(R(),F("div",qe,[a(D,{class:"mx-3 mt-6",onSubmit:l[7]||(l[7]=s=>J())},{default:u(()=>[e("div",Ee,[e("div",Le,r(o.$t("login.phoneNumber")),1),e("div",null,[a(m,{modelValue:t(v).account,"onUpdate:modelValue":l[3]||(l[3]=s=>t(v).account=s),placeholder:o.$t("login.enterPhoneNumberOrEmail"),rules:[{required:!0,message:o.$t("login.enterPhoneNumberOrEmail")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",Ae,[e("div",Te,r(o.$t("login.Password")),1),e("div",null,[a(m,{modelValue:t(v).password,"onUpdate:modelValue":l[4]||(l[4]=s=>t(v).password=s),placeholder:o.$t("login.enterPassword"),rules:[{required:!0,message:o.$t("login.enterPassword")}],class:"border border-gray-500 border-dotted rounded-lg",type:"password"},null,8,["modelValue","placeholder","rules"])])]),e("div",je,[e("div",null,[e("span",De,r(o.$t("login.noAccount")),1),e("span",{class:"pl-1.5 text-blue-500",onClick:l[5]||(l[5]=s=>g.value=o.$t("login.register"))},r(o.$t("login.clickToRegister")),1)]),e("div",null,[e("span",{class:"text-blue-500",onClick:l[6]||(l[6]=s=>t(x).push("/forgetPwd"))},r(o.$t("login.forgotPassword")),1)])]),e("div",Be,[a($,{"native-type":"submit",onClick:o.toHome},{default:u(()=>[k(r(o.$t("login.login")),1)]),_:1},8,["onClick"])])]),_:1})])):O("",!0)]),_:1}),a(B,{name:"van-slide-up"},{default:u(()=>[t(g)===o.$t("login.register")?(R(),F("div",Oe,[e("div",null,[a(D,{class:"mx-3 mt-6",onSubmit:l[19]||(l[19]=s=>K())},{default:u(()=>[e("div",ze,[e("div",He,r(o.$t("login.storeLogo")),1),e("div",null,[a(P,{ref_key:"uploadRef1",ref:X,modelValue:t(w),"onUpdate:modelValue":l[8]||(l[8]=s=>V(w)?w.value=s:null),"after-read":se,"max-count":1,"show-upload":t(Y),"upload-icon":"plus"},{"preview-cover":u(({file:s})=>[]),_:1},8,["modelValue","show-upload"])])]),e("div",Ge,[e("div",Me,r(o.$t("login.storeName")),1),e("div",null,[a(m,{modelValue:t(d).mer_name,"onUpdate:modelValue":l[9]||(l[9]=s=>t(d).mer_name=s),rules:[{required:!0,message:o.$t("login.enterStorename")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","rules"])])]),e("div",Qe,[e("div",Je,r(o.$t("login.storeAddress")),1),e("div",null,[a(m,{modelValue:t(d).mer_address,"onUpdate:modelValue":l[10]||(l[10]=s=>t(d).mer_address=s),placeholder:o.$t("login.enterStoreAddress"),rules:[{required:!0,message:o.$t("login.enterStoreAddress")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",Ke,[e("div",We,r(o.$t("login.country")),1),e("div",null,[a(m,{modelValue:t(d).country,"onUpdate:modelValue":l[11]||(l[11]=s=>t(d).country=s),placeholder:o.$t("login.enterCountry"),rules:[{required:!0,message:o.$t("login.enterCountry")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",Xe,[e("div",Ye,r(o.$t("login.phoneNumber")),1),e("div",null,[a(m,{modelValue:t(d).mer_phone,"onUpdate:modelValue":l[12]||(l[12]=s=>t(d).mer_phone=s),placeholder:o.$t("login.uploadPhoneNumber"),rules:[{required:!0,message:o.$t("login.uploadPhoneNumber")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",Ze,[e("div",eo,r(o.$t("login.realName")),1),e("div",null,[a(m,{modelValue:t(d).real_name,"onUpdate:modelValue":l[13]||(l[13]=s=>t(d).real_name=s),placeholder:o.$t("login.enterRealName"),rules:[{required:!0,message:o.$t("login.enterRealName")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",oo,[e("div",lo,r(o.$t("login.email")),1),e("div",null,[a(m,{modelValue:t(d).mer_email,"onUpdate:modelValue":l[14]||(l[14]=s=>t(d).mer_email=s),placeholder:o.$t("login.enterEmail"),rules:[{required:!0,message:o.$t("login.enterEmail")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",so,[e("div",to,r(o.$t("newword.password")),1),e("div",null,[a(m,{modelValue:t(d).password,"onUpdate:modelValue":l[15]||(l[15]=s=>t(d).password=s),placeholder:o.$t("newword.enterPassword"),rules:[{required:!0,message:o.$t("newword.enterPassword")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",ao,[e("div",no,r(o.$t("newword.rePassword")),1),e("div",null,[a(m,{modelValue:t(d).repassword,"onUpdate:modelValue":l[16]||(l[16]=s=>t(d).repassword=s),placeholder:o.$t("newword.reEnterPassword"),rules:[{required:!0,message:o.$t("newword.reEnterPassword")}],class:"border border-gray-500 border-dotted rounded-lg"},null,8,["modelValue","placeholder","rules"])])]),e("div",ro,[e("div",io,r(o.$t("login.idCardUpload")),1),e("div",uo,[e("div",mo,[a(P,{ref_key:"uploadRef2",ref:Z,modelValue:t(_),"onUpdate:modelValue":l[17]||(l[17]=s=>V(_)?_.value=s:null),"after-read":te,"max-count":1,"show-upload":t(ee),"upload-icon":"plus"},{"preview-cover":u(({file:s})=>[]),_:1},8,["modelValue","show-upload"]),e("div",co,[e("span",go,r(o.$t("login.idCardFront")),1)])]),e("div",po,[a(P,{ref_key:"uploadRef3",ref:oe,modelValue:t(y),"onUpdate:modelValue":l[18]||(l[18]=s=>V(y)?y.value=s:null),"after-read":ae,"max-count":1,"show-upload":t(le),"upload-icon":"plus"},{"preview-cover":u(({file:s})=>[]),_:1},8,["modelValue","show-upload"]),e("div",vo,[e("span",fo,r(o.$t("login.idCardback")),1)])])])]),e("div",ho,[a($,{"native-type":"submit"},{default:u(()=>[k(r(o.$t("login.register")),1)]),_:1})])]),_:1})])])):O("",!0)]),_:1})])]),a(ne,{show:t(p),"onUpdate:show":l[20]||(l[20]=s=>V(p)?p.value=s:null),actions:t(S),onSelect:M},null,8,["show","actions"])],64)}}},Io=de(bo,[["__scopeId","data-v-1462a2fc"]]);export{Io as default};
