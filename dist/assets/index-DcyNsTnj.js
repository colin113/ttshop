import{_ as P,u as D,a as G,z as H,r as s,q as O,V as Q,c1 as J,aO as K,o as W,c as X,f as a,i as _,g as c,aP as Y,w as F,h,A as q,F as Z,bQ as ee,a5 as te,E as ae,a2 as E,p as se,m as oe,c2 as le,H as ne}from"./index-BvrlI3rd.js";import{A as ie}from"./index-C2xjknpb.js";/* empty css              */import{F as ce}from"./index-B85MVH_x.js";import{_ as ue,a as re}from"./logo-Bw7xjJCN.js";import{F as de}from"./index-Dp4oRVwc.js";import{B as me}from"./index-CBKMO47e.js";import"./use-route-BBWwet07.js";import"./use-id-n9qlotU8.js";const T=u=>(se("data-v-29757545"),u=u(),oe(),u),fe={class:"page text-white"},ge={class:"mx-3 flex justify-between items-center mt-3"},ve={class:"ml-3 pt-1 font-semibold text-3xl text-black",style:{color:"#fff"}},_e={class:"ml-3 pt-0.5"},he=T(()=>a("div",{class:"flex justify-center items-center flex-col mt-40"},[a("img",{style:{width:"5rem"},src:re,alt:""}),a("div",{class:"mt-2"},[a("span",{class:"font-semibold text-3xl text-white"},"TikTok Mall")])],-1)),pe={class:"h-3/5 rounded-t-2xl fixed bottom-0",style:{width:"100vw",height:"60%"}},xe={class:"mx-3"},we={class:"text-white mb-3"},Se=T(()=>a("span",{style:{color:"var(--van-field-required-mark-color)"}},"*",-1)),ye={class:"bg-black mx-3 h-16 flex justify-center items-center text-white mt-10"},Ie={__name:"index",setup(u){var k;const{locale:A,t:r}=D(),$=G(),o=H(),n=s("");s(!1);const d=s(!0),m=s(((k=o==null?void 0:o.query)==null?void 0:k.status)||-1),f=s(""),p=s("#000"),g=s(!1),x=s(!1);let w;const i=s(!1),B=()=>{i.value=!0},S=s([]),y=s([{chinese_name:"英语",createtime:1712824643,file_name:"en",id:2,is_default:1,language_name:"English",status:1},{id:1,language_name:"中文",chinese_name:"中文",file_name:"zh-CN",status:1,is_default:0,createtime:1712824643}]),I=s([]),C=()=>{I.value=y.value.map(e=>({name:e.language_name,file_name:e.file_name})),S.value=I.value,localStorage.getItem("hasExecutedFunction")||(y.value.forEach(e=>{e.is_default==1&&(localStorage.setItem("lang",e.file_name),location.reload())}),localStorage.setItem("hasExecutedFunction","true"))},b=s({lang:""}),V=t=>{i.value=!1,b.value.lang=t.file_name,A.value=t.file_name,localStorage.setItem("lang",t.file_name),ee(b.value).then(e=>{e.code===1?te(e.msg):ae(e.msg)}),location.reload()},j=()=>{le({code:n.value}).then(t=>{t.code===1?(localStorage.setItem("code",n.value),$.push("/register")):ne(t.msg)})};O(()=>{C(),o.query.status==null&&(o.query.status=-1),o.query.status!=null&&(d.value=!1),v(o.query.status)}),Q(()=>o.query.status,t=>{m.value=t||-1,m.value===-1?d.value=!0:(d.value=!1,v(m.value))});const v=t=>{x.value=!1,t==-1&&(x.value=!0),t==-2?(g.value=!0,f.value=r("code.rejected"),p.value="#E62E2F"):t==0?(g.value=!1,f.value=r("rechargerecord.pending"),p.value="#000",z()):(g.value=!0,f.value=r("code.title"))},z=()=>{w=setTimeout(()=>{L()},1e4)},L=async()=>{let t={code:localStorage.getItem("code"),data:localStorage.getItem("data"),mer:localStorage.getItem("mer")};const e=await J(t);if(e.code==0){if(e.data==null)return;v(e.data.status)}};return K(()=>{clearTimeout(w)}),(t,e)=>{const N=ce,R=me,U=de,M=ie;return W(),X(Z,null,[a("img",{src:ue,class:"bg",onClick:e[0]||(e[0]=l=>t.showLogin="")}),a("div",fe,[a("header",null,[a("div",ge,[a("span",ve,_(t.$t("code.Apply")),1),a("span",_e,[c(Y,{name:"earth",size:"1.6rem",color:"#fff",onClick:e[1]||(e[1]=l=>B())})])])]),a("main",null,[he,a("div",pe,[c(U,{onSubmit:e[3]||(e[3]=l=>t.onSubmit1()),class:"mx-3 mt-6 login"},{default:F(()=>[a("div",xe,[a("div",we,[Se,E(_(t.$t("code.Authentication")),1)]),a("div",null,[c(N,{class:"rounded-lg","preview-size":"4rem",style:{color:"#fff"},placeholder:t.$t("code.enter"),modelValue:h(n),"onUpdate:modelValue":e[2]||(e[2]=l=>q(n)?n.value=l:null),required:"",rules:[{required:!0,message:t.$t("code.enter")}]},null,8,["placeholder","modelValue","rules"])])]),a("div",ye,[c(R,{style:{"background-color":"#009996"},"native-type":"submit",onClick:j},{default:F(()=>[E(_(t.$t("login.login")),1)]),_:1})])]),_:1})])])]),c(M,{show:h(i),"onUpdate:show":e[4]||(e[4]=l=>q(i)?i.value=l:null),actions:h(S),onSelect:V},null,8,["show","actions"])],64)}}},Ce=P(Ie,[["__scopeId","data-v-29757545"]]);export{Ce as default};
