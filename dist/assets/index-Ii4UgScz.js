import{r as d,V as A,O as $,bq as O,ao as B,N as D,R as N,aa as w,b9 as V,a9 as M,U as q,bG as H,W as L,g as h,Z as U,$ as R,F as S,bH as G,bI as J,o as P,c as W,h as z,C as Z,w as j,bJ as K,s as Q,a1 as X}from"./index-BvrlI3rd.js";/* empty css              */function C(e,n){return e.reduce((a,r)=>Math.abs(a-n)<Math.abs(r-n)?a:r)}const ee=(e,n)=>{const a=d(e());return A(e,r=>{r!==a.value&&(a.value=r)}),A(a,r=>{r!==e()&&n(r)}),a},ae={height:$(0),anchors:O(),duration:$(.3),contentDraggable:B,lockScroll:Boolean,safeAreaInsetBottom:B},[te,_]=D("floating-panel");var ne=N({name:te,props:ae,emits:["heightChange","update:height"],setup(e,{emit:n,slots:a}){const u=d(),l=d(),t=ee(()=>+e.height,o=>n("update:height",o)),s=w(()=>{var o,i;return{min:(o=e.anchors[0])!=null?o:100,max:(i=e.anchors[e.anchors.length-1])!=null?i:Math.round(V.value*.6)}}),c=w(()=>e.anchors.length>=2?e.anchors:[s.value.min,s.value.max]),g=d(!1),E=w(()=>({height:M(s.value.max),transform:`translateY(calc(100% + ${M(-t.value)}))`,transition:g.value?"none":`transform ${e.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`})),I=o=>{const i=Math.abs(o),{min:v,max:f}=s.value;return i>f?-(f+(i-f)*.2):i<v?-(v-(v-i)*.2):o};let y,m=-1;const b=q(),Y=o=>{b.start(o),g.value=!0,y=-t.value,m=-1},F=o=>{var i;b.move(o);const v=o.target;if(l.value===v||(i=l.value)!=null&&i.contains(v)){const{scrollTop:k}=l.value;if(m=Math.max(m,k),!e.contentDraggable)return;if(-y<s.value.max)U(o,!0);else if(!(k<=0&&b.deltaY.value>0)||m>0)return}const f=b.deltaY.value+y;t.value=-I(f)},x=()=>{m=-1,g.value=!1,t.value=C(c.value,t.value),t.value!==-y&&n("heightChange",{height:t.value})};return A(s,()=>{t.value=C(c.value,t.value)},{immediate:!0}),H(u,()=>e.lockScroll||g.value),L("touchmove",F,{target:u}),()=>{var o;return h("div",{class:[_(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:u,style:E.value,onTouchstartPassive:Y,onTouchend:x,onTouchcancel:x},[h("div",{class:_("header")},[h("div",{class:_("header-bar")},null)]),h("div",{class:_("content"),ref:l},[(o=a.default)==null?void 0:o.call(a)])])}}});const re=R(ne),[T,le]=D("space"),oe={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function p(e=[]){const n=[];return e.forEach(a=>{Array.isArray(a)?n.push(...a):a.type===S?n.push(...p(a.children)):n.push(a)}),n.filter(a=>{var r;return!(a&&(a.type===G||a.type===S&&((r=a.children)==null?void 0:r.length)===0||a.type===J&&a.children.trim()===""))})}var se=N({name:T,props:oe,setup(e,{slots:n}){const a=w(()=>{var l;return(l=e.align)!=null?l:e.direction==="horizontal"?"center":""}),r=l=>typeof l=="number"?l+"px":l,u=l=>{const t={},s=`${r(Array.isArray(e.size)?e.size[0]:e.size)}`,c=`${r(Array.isArray(e.size)?e.size[1]:e.size)}`;return l?e.wrap?{marginBottom:c}:{}:(e.direction==="horizontal"&&(t.marginRight=s),(e.direction==="vertical"||e.wrap)&&(t.marginBottom=c),t)};return()=>{var l;const t=p((l=n.default)==null?void 0:l.call(n));return h("div",{class:[le({[e.direction]:e.direction,[`align-${a.value}`]:a.value,wrap:e.wrap,fill:e.fill})]},[t.map((s,c)=>h("div",{key:`item-${c}`,class:`${T}-item`,style:u(c===t.length-1)},[s]))])}}});const ue=R(se),he={__name:"index",props:{height:{type:[Number,String],required:!1,default:500}},setup(e,{expose:n}){const a=d(!1),r=()=>{a.value=!1};return n({show:a}),(u,l)=>{const t=re,s=X;return P(),W(S,null,[z(a)?(P(),Z(t,{key:0,height:e.height},{default:j(()=>[K(u.$slots,"default")]),_:3},8,["height"])):Q("",!0),h(s,{show:z(a),onClick:r},null,8,["show"])],64)}}};export{ue as S,he as _};
